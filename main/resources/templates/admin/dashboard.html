<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="bg-gray-100 font-sans">

<!-- Sidebar -->
<div class="flex flex-col md:flex-row">
    <div class="w-full md:w-64 h-auto md:h-screen bg-gray-800 text-white fixed md:relative">
        <div class="h-16 bg-gray-900 flex items-center justify-center text-xl font-bold">
            Homestay Admin
        </div>
        <nav class="mt-4 flex flex-col">
            <a href="/admin/dashboard" class="py-3 px-6 hover:bg-gray-700 transition"> Dashboard</a>
            <a href="/admin/users" class="py-3 px-6 hover:bg-gray-700 transition"> Quản lý Người dùng</a>
            <a href="/admin/homestays" class="py-3 px-6 hover:bg-gray-700 transition"> Quản lý Homestay</a>
            <a href="/admin/bookings/pending" class="py-3 px-6 hover:bg-gray-700 transition"> Đặt phòng chờ duyệt</a>
            <a href="/admin/tickets" class="py-3 px-6 hover:bg-gray-700 transition"> Quản lý Vé</a>
            <a href="/admin/tickets/unprinted" class="py-3 px-6 hover:bg-gray-700 transition"> Vé chưa in</a>
            <a href="/" class="py-3 px-6 hover:bg-gray-700 transition"> Về Trang chủ</a>
            <a href="/logout" class="py-3 px-6 hover:bg-gray-700 transition"> Đăng xuất</a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="flex-1 ml-0 md:ml-64 p-8">
        <div class="container mx-auto">
            <h1 class="text-3xl font-bold mb-6 text-gray-800">Bảng Điều Khiển</h1>

            <div class="bg-white rounded-lg shadow p-6">
                <p class="text-lg text-gray-700">
                    Tổng số lượt truy cập:
                    <span class="visitor-count text-cyan-600 font-extrabold text-4xl" th:text="${visitorCount}">0</span>
                </p>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-gray-500 text-sm mt-12">
            &copy; 2025 Homestay Admin. All rights reserved.
        </div>
    </div>
</div>

<!-- Counter Animation Script -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const counterElement = document.querySelector(".visitor-count");
        const target = parseInt(counterElement.textContent.replace(/\./g, '')) || 0;
        let count = 0;
        const speed = 30;
        const increment = Math.ceil(target / 100);

        function updateCounter() {
            if (count < target) {
                count += increment;
                if (count > target) count = target;
                counterElement.textContent = count.toLocaleString("vi-VN");
                setTimeout(updateCounter, speed);
            } else {
                counterElement.textContent = target.toLocaleString("vi-VN");
            }
        }

        updateCounter();
    });
</script>

</body>
</html>
